(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{230:function(e,a,t){e.exports={FirstBorder:"MediumArrow_FirstBorder__DkQUj",FirstBorder__grey:"MediumArrow_FirstBorder__grey__3rHb6",FirstBorder__ggrey:"MediumArrow_FirstBorder__ggrey__FTpp0",FirstBorder__AndLast:"MediumArrow_FirstBorder__AndLast__1SXyX",MediumBorder:"MediumArrow_MediumBorder__aj4FK",MediumBorder__grey:"MediumArrow_MediumBorder__grey__1C7wb",MediumBorder__ggrey:"MediumArrow_MediumBorder__ggrey__1ZDMf",LastBorder:"MediumArrow_LastBorder__1XWc0",LastBorder__grey:"MediumArrow_LastBorder__grey__1by7Q",LastBorder__ggrey:"MediumArrow_LastBorder__ggrey__1H61q",RightTriangle:"MediumArrow_RightTriangle__1qYXl",RightTriangle__first:"MediumArrow_RightTriangle__first__11SRF",RightTriangle__first__grey:"MediumArrow_RightTriangle__first__grey__croR1",RightTriangle__grey:"MediumArrow_RightTriangle__grey__2fhKw",LeftTriangle:"MediumArrow_LeftTriangle__23O7s",LeftTriangle__first:"MediumArrow_LeftTriangle__first__2J5c5",LeftTriangle__first__grey:"MediumArrow_LeftTriangle__first__grey__lyIf_",LeftTriangle__grey:"MediumArrow_LeftTriangle__grey__3rUYA",FirstExtraBorder:"MediumArrow_FirstExtraBorder__3VEI_",ExtraBorder:"MediumArrow_ExtraBorder__2OeZO"}},235:function(e,a,t){e.exports={MainPage:"MainPage_MainPage__1zUN_",Table:"MainPage_Table__3TUF9",DialogContent:"MainPage_DialogContent__3LRds",FieldAndButton:"MainPage_FieldAndButton__2nD-v",MoneyInfo:"MainPage_MoneyInfo__L4eZK",Balance:"MainPage_Balance__Oui7h",ReadyToRelease:"MainPage_ReadyToRelease__1ckrz",ReadyToRelease__button:"MainPage_ReadyToRelease__button__19JiW",Grid1:"MainPage_Grid1__2CpSs",Grid2:"MainPage_Grid2__1LEMC",Item1:"MainPage_Item1__1tXB4",Item2:"MainPage_Item2__3cwzK",Item3:"MainPage_Item3__3CBQQ",Item4:"MainPage_Item4__22YSp",Item5:"MainPage_Item5__35OK0"}},267:function(e,a,t){e.exports={ArrowAndInfo:"ArrowAndInfo_ArrowAndInfo__2kLN0",ArrowAndInfo__grey:"ArrowAndInfo_ArrowAndInfo__grey__3sg3S",Box:"ArrowAndInfo_Box__1ua0Q",TriangleUp:"ArrowAndInfo_TriangleUp__zo-fC",TriangleDown:"ArrowAndInfo_TriangleDown__2Nrvs"}},268:function(e,a,t){e.exports={Box:"Delta_Box__PjQZU",Delta:"Delta_Delta__1_v4V",Item1:"Delta_Item1__1v8Xx",Item2:"Delta_Item2__2Ib4I",Item3:"Delta_Item3__3dkXP",Item4:"Delta_Item4__142Zz",Item5:"Delta_Item5__1BgbN"}},270:function(e,a,t){e.exports={Hider__active:"Hider_Hider__active__1dzKI"}},275:function(e,a,t){e.exports={FlexHorizontal:"FlexHorizontalWrapper_FlexHorizontal__2c_xP"}},276:function(e,a,t){e.exports={CellInfo:"CellInfo_CellInfo__3lif2"}},277:function(e,a,t){e.exports={AdditionalDiv:"MultiArrow_AdditionalDiv__1_KxD",MediumDiv:"MultiArrow_MediumDiv__3T82r"}},372:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"energy",function(){return p}),t.d(n,"currency",function(){return v}),t.d(n,"power",function(){return E}),t.d(n,"watt",function(){return b}),t.d(n,"cost",function(){return h});var r=t(264),l=t.n(r),o=t(29),i=t(266),c=t(0),m=t.n(c),s=t(235),d=t.n(s),u=t(267),_=t.n(u),g=t(373),f=t(224),y=t(60),p="#1",v="#2",E="#3",b="\u043a\u0412\u0442\xb7\u0447",h="MIPTik";function M(e){if(!isFinite(e))return e;for(var a=e.toString().split(".")[0].split(/\B(?=(\d{3})+(?!\d))/g),t=1;t<a.length;t+=1)a.splice(t,1);return a.length<2?e:a.map(function(e,t){return m.a.createElement("span",{key:t},e,t<a.length-1&&m.a.createElement("span",{style:{display:"inline-block",fontSize:"16px"}}," "))})}var I=function(e){var a=e.direction,t=e.amount,r=e.money,l="current"===e.flag?y:n,o=l.watt,i=l.cost;return m.a.createElement("div",{className:0===t?_.a.ArrowAndInfo__grey:_.a.ArrowAndInfo},m.a.createElement(g.a,{className:_.a.Box},void 0!==t&&m.a.createElement(f.a,{display:"inline",style:{fontFamily:"Roboto Mono"},variant:"h4",color:"secondary"},M(t)),void 0!==t&&m.a.createElement(f.a,{display:"inline",color:"secondary",variant:"h5"},"\xa0","".concat(o)),void 0!==t&&m.a.createElement("br",null),void 0!==r&&m.a.createElement(f.a,{display:"inline",style:{fontFamily:"Roboto Mono"},variant:"h4",color:"textSecondary"},M(r)),void 0!==r&&m.a.createElement(f.a,{display:"inline",variant:"h5",color:"textSecondary"},"\xa0",i),void 0!==r&&m.a.createElement("br",null)),0!==t&&m.a.createElement("div",{className:a?_.a.TriangleUp:_.a.TriangleDown}))},w=t(268),A=t.n(w),x=t(271),N=t.n(x),B=t(273),T=t.n(B),F=t(274),P=t.n(F),k=t(80),R=t(109),D=t(269),O=t.n(D),L=t(11),j=t(270),C=t.n(j);var S=function(e){var a=e.children,t=e.predicate;return m.a.createElement("div",{className:t?C.a.Hider__active:C.a.Hider},a)},U=Object(k.a)(function(e){return Object(R.a)({button1:{color:"black",backgroundColor:"white",width:"132px",height:"40px"},button2:{color:"white",border:"1px solid #FFFFFF",width:"85px",height:"40px"}})});var z=function(e){var a=e.name,t=e.type,n=e.money,r=e.pullOffFunc,l=U();return m.a.createElement(N.a,{elevation:2,className:"".concat(A.a.Delta)},m.a.createElement(T.a,{className:"".concat(A.a.Item1),variant:"h3"}," ",m.a.createElement("b",null," ",a," ")," "),m.a.createElement(T.a,{style:{fontSize:"15px"},className:"".concat(A.a.Item5),variant:"body1"}," ",t," "),m.a.createElement(g.a,{className:"".concat(A.a.Item2)},m.a.createElement(T.a,{style:{fontFamily:"Roboto Mono"},variant:"h3"}," ",m.a.createElement("b",null," ",m.a.createElement(O.a,{value:n,formatValue:function(e){return e.toFixed(0)}})," ")," "),m.a.createElement(T.a,{style:{fontSize:"15px"},variant:"body1"}," ",y.currency," ")),m.a.createElement(g.a,{className:A.a.Item3}," ",m.a.createElement(P.a,{className:"".concat(l.button1),variant:"contained",color:"default"},L.a.mainPage.delta.buttons.button1.label)," "),m.a.createElement(g.a,{className:A.a.Item4}," ",m.a.createElement(P.a,{onClick:r,className:"".concat(l.button2),variant:"outlined",color:"default"},L.a.mainPage.delta.buttons.button2.label)," "))},H=t(275),G=t.n(H);var K=function(e){var a=e.children;return m.a.createElement("div",{className:G.a.FlexHorizontal},a)},X=t(230),Q=t.n(X);var V=function(e){var a=e.direction,t=e.first,n=e.active;return a?t?n?m.a.createElement("div",{className:Q.a.RightTriangle__first}):m.a.createElement("div",{className:Q.a.RightTriangle__first__grey}):n?m.a.createElement("div",{className:Q.a.RightTriangle}):m.a.createElement("div",{className:Q.a.RightTriangle__grey}):t?n?m.a.createElement("div",{className:Q.a.LeftTriangle__first}):m.a.createElement("div",{className:Q.a.LeftTriangle__first__grey}):n?m.a.createElement("div",{className:Q.a.LeftTriangle}):m.a.createElement("div",{className:Q.a.LeftTriangle__grey})};var W=function(e){var a=e.last,t=e.first,n=e.active,r=e.children,l=e.ggrey;return n?t?a?m.a.createElement("div",{className:Q.a.FirstBorder__AndLast},r):m.a.createElement("div",{className:Q.a.FirstBorder},r):a?m.a.createElement("div",{className:Q.a.LastBorder},r):m.a.createElement("div",{className:Q.a.MediumBorder},r):l?t?m.a.createElement("div",{className:Q.a.FirstBorder__ggrey},r):a?m.a.createElement("div",{className:Q.a.LastBorder__ggrey},r):m.a.createElement("div",{className:Q.a.MediumBorder__ggrey},r):t?m.a.createElement("div",{className:Q.a.FirstBorder__grey},r):a?m.a.createElement("div",{className:Q.a.LastBorder__grey},r):m.a.createElement("div",{className:Q.a.MediumBorder__grey},r)};var Z=function(e){var a=e.last,t=e.first,n=e.active,r=e.ggrey;return!t||a||n||r?n||r?null:m.a.createElement("div",{className:Q.a.ExtraBorder}):m.a.createElement("div",{className:Q.a.FirstExtraBorder})};var J=function(e){var a=e.direction,t=e.last,n=e.first,r=e.active,l=e.ggrey;return m.a.createElement(W,{ggrey:l,last:t,first:n,active:r},m.a.createElement(V,{direction:a,first:n,active:r}),m.a.createElement(Z,{active:r,first:n,last:t,ggrey:l}))},Y=t(276),q=t.n(Y);var $=function(e){var a=e.name,t=e.amount,r=e.money,l="current"===e.flag?y:n,o=l.watt,i=l.cost;return m.a.createElement("div",{className:q.a.CellInfo},a&&m.a.createElement(f.a,{color:"textPrimary",variant:"h5"},m.a.createElement("b",null,a)),void 0!==t&&m.a.createElement(f.a,{style:{fontFamily:"Roboto Mono"},display:"inline",color:"secondary",variant:"h5"},"".concat(t)),void 0!==t&&m.a.createElement(f.a,{display:"inline",color:"secondary",variant:"h5"},"\xa0","".concat(o)),m.a.createElement("br",null),void 0!==r&&m.a.createElement(f.a,{style:{fontFamily:"Roboto Mono"},display:"inline",color:"textSecondary",variant:"h5"},"".concat(r)),void 0!==r&&m.a.createElement(f.a,{display:"inline",color:"textSecondary",variant:"h5"}," ","".concat(i)))},ee=t(277),ae=t.n(ee);var te=function(e){var a=e.data,t=e.flag;return m.a.createElement("div",null,m.a.createElement(K,null,m.a.createElement("div",null,a.map(function(e,a,t){return m.a.createElement(J,{ggrey:!t.slice(a).reduce(function(e,a){return e||a.active},!1),active:e.active,key:a,direction:e.output,last:a===t.length-1,first:0===a})})),m.a.createElement("div",{className:ae.a.MediumDiv}),m.a.createElement("div",null,m.a.createElement("div",{className:ae.a.AdditionalDiv}),a.map(function(e,a){return m.a.createElement($,Object.assign({flag:t,key:a,name:e.name,amount:e.amount,money:e.money},e))}))))},ne=t(369),re=t(39),le=t(376),oe=t(361),ie=t(362),ce=t(363),me=t(6),se=t(216),de=t(364),ue=t(365),_e=t(366),ge=t(367),fe=t(368),ye=t(231),pe=t(360),ve=t(278),Ee=t.n(ve),be=t(279),he=t.n(be),Me=t(359);var Ie=function(e){var a=e.istate,t=e.id,n=e.onUnlock;return a?m.a.createElement(ye.a,{onClick:function(){return n(t)},color:"primary"}," ",m.a.createElement(Me.a,null)):m.a.createElement(f.a,{align:"center",variant:"body1",color:"textSecondary"},L.a.mainPage.dialog.content.table.unlocked.label)},we=Object(me.a)(function(e){return{root:{margin:0,paddingTop:"40px",paddingLeft:"32px"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)}}})(function(e){var a=e.children,t=e.classes,n=e.onClose;return m.a.createElement(Ee.a,{disableTypography:!0,className:t.root},m.a.createElement(f.a,{variant:"h4"},m.a.createElement("b",null,a)),n?m.a.createElement(ye.a,{color:"primary","aria-label":"Close",className:t.closeButton,onClick:n},m.a.createElement(pe.a,null)):null)});var Ae=function(e){var a=e.open,t=e.onClose,n=e.profile,r=e.multidata,l=e.onUnlock,i=Object(re.a)(e,["open","onClose","profile","multidata","onUnlock"]),s=Object(c.useState)(),u=Object(o.a)(s,2),_=u[0],p=u[1],v=n.money-r.reduce(function(e,a){return e+a.state*a.blocked},0);return m.a.createElement(le.a,Object.assign({open:a,onClose:t},i),m.a.createElement(we,{onClose:t},L.a.mainPage.dialog.heading.label,m.a.createElement(f.a,{variant:"body1"},"EthAddress: ".concat(n.ethAddress))),m.a.createElement(he.a,null,m.a.createElement(g.a,{className:d.a.DialogContent},m.a.createElement(g.a,{className:d.a.FieldAndButton},m.a.createElement(oe.a,{id:"outlined-name",label:L.a.mainPage.dialog.content.form.placeholder.label,variant:"outlined",style:{fontWeight:"bold"},InputProps:{endAdornment:m.a.createElement(ie.a,{position:"end"},y.currency)},value:_,onChange:function(e){return p(e.target.value)}}),m.a.createElement(ce.a,{variant:"contained",color:"primary"},L.a.mainPage.dialog.content.form.button.label)),m.a.createElement("br",null),m.a.createElement(g.a,{className:d.a.MoneyInfo},m.a.createElement(g.a,{className:d.a.Balance},m.a.createElement(f.a,{display:"inline"},L.a.mainPage.dialog.content.balance.label,"\xa0"),m.a.createElement(f.a,{style:{fontFamily:"Roboto Mono"},display:"inline",variant:"body1"},"".concat(n.money)),m.a.createElement(f.a,{display:"inline"},"\xa0","".concat(y.currency))),m.a.createElement(g.a,{className:d.a.ReadyToRelease},m.a.createElement(f.a,{display:"inline",variant:"body1",style:{justifySelf:"start"}},L.a.mainPage.dialog.content.readyToWithdraw.label,"\xa0"),m.a.createElement(g.a,{onClick:function(e){return p(v)},className:d.a.ReadyToRelease__button},m.a.createElement(f.a,{style:{fontFamily:"Roboto Mono"},display:"inline",variant:"body1"},"".concat(v)),m.a.createElement(f.a,{display:"inline",variant:"body1",style:{justifySelf:"start"}},"\xa0","".concat(y.currency))))),m.a.createElement("br",null),m.a.createElement(f.a,{display:"inline",variant:"body1",style:{fontFamily:"Roboto Mono"}},r.reduce(function(e,a){return e+a.state*a.blocked},0)),m.a.createElement(f.a,{display:"inline",variant:"body1"},"\xa0","".concat(y.currency," ").concat(L.a.mainPage.dialog.content.text.label)),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(se.a,{className:d.a.Table},m.a.createElement(de.a,{size:"small"},m.a.createElement(ue.a,null,m.a.createElement(_e.a,null,m.a.createElement(ge.a,{align:"center"},m.a.createElement("b",null,L.a.mainPage.dialog.content.table.user.label)),m.a.createElement(ge.a,{align:"center"},m.a.createElement("b",null,y.currency)),m.a.createElement(ge.a,{align:"center"},m.a.createElement("b",null,L.a.mainPage.dialog.content.table.unlock.label)))),m.a.createElement(fe.a,null,r.map(function(e,a){return m.a.createElement(_e.a,{key:a},m.a.createElement(ge.a,{align:"left"},m.a.createElement(f.a,{color:e.state?"textPrimary":"textSecondary",variant:"body1"},e.name," ")," "),m.a.createElement(ge.a,{align:"right"},m.a.createElement(f.a,{style:{fontFamily:"Roboto Mono"},color:e.state?"textPrimary":"textSecondary",variant:"body1"},e.blocked," ")," "),m.a.createElement(ge.a,{align:"center"}," ",m.a.createElement(Ie,{id:e.id,istate:e.state,onUnlock:l})))})))))))},xe=t(59),Ne=t(26),Be=t(9),Te=function(e){var a=[{},{},{},{}];a[0]={amount:e.generator.performance,direction:!1,type:e.generator.name,money:e.generator.cost},a[1]={amount:e.net.performance,money:e.net.cost,direction:!1,type:L.a.mainPage.headings.load.label};var t={name:e.profile.name,type:L.a.mainPage.delta.energyCell.label,money:e.profile.money,ethAddress:e.profile.ethAddress,blocked:e.neighbours.reduce(function(e,a){return e+a.blocked_money},0)},n=e.load.map(function(e){return{name:e.name,amount:e.performance,order:e.order,active:e.active,output:!0}}),r=e.neighbours.map(function(e){return{id:e.id,name:e.name,amount:e.performance,money:e.cost,blocked:e.blocked_money,state:e.state,output:e.output,active:e.active}}),l=e.neighbours.reduce(function(e,a){return e+Math.pow(-1,!a.output)*a.performance*a.active},0);return a[2]={amount:Math.abs(l),money:r.reduce(function(e,a){return e+a.active*a.money*Math.pow(-1,!a.output)},0),direction:l<=0},a[3]={amount:e.load.reduce(function(e,a){return e+a.performance},0),direction:!1},{data:a,profile:t,multidata:r,multidata2:n}},Fe=t(42),Pe=t(114),ke=t.n(Pe),Re={generator:{name:"sun",performance:612291,propertyType:"cost",propertyValue:91},net:{performance:612291,cost:91},neighbours:[{name:"Alpha",performance:52,cost:5,output:!1,blocked_money:8,state:"locked",active:!1},{name:"Beta",performance:2,cost:1,output:!1,blocked_money:401,state:"locked",active:!1},{name:"Gamma",performance:512,cost:59,output:!1,blocked_money:95,state:"locked",active:!1}],load:[{name:"\u0422\u0443\u0430\u043b\u0435\u0442",performance:52,order:3},{name:"\u041a\u043e\u043c\u043d\u0430\u0442\u0430",performance:2,order:1},{name:"\u041a\u0443\u0445\u043d\u044f",performance:0,order:2}],profile:{name:"Delta",money:2490}},De={position:"relative",left:"-9px"},Oe=!1;function Le(e){return je.apply(this,arguments)}function je(){return(je=Object(i.a)(l.a.mark(function e(a){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("getting data"),!Oe){e.next=7;break}return(t=Object.assign({},Re)).generator.cost="cost"===Re.generator.propertyType&&Re.generator.propertyValue,e.abrupt("return",t);case 7:return e.next=9,fetch(a);case 9:return n=e.sent,e.abrupt("return",new Promise(function(e){n.json().then(function(a){var t=a;t.generator.cost="cost"===t.generator.propertyType&&t.generator.propertyValue,e(t)})}));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ce(){return(Ce=Object(i.a)(l.a.mark(function e(a){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Fe.a,"/closechannel/").concat(a),{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("Closing channels result: ",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}a.default=Object(xe.b)(function(e){return{multidata:e.mainPage.multidata,data:e.mainPage.data,multidata2:e.mainPage.multidata2,profile:e.mainPage.profile,isIntervalExist:e.fetcher.isIntervalExist,interval:e.fetcher.interval,intervalID:e.fetcher.intervalID,flag:e.mainPage.flag}},function(e){return{onUnlock:function(a){return e(function(e){return{type:Be.f,payload:{id:e}}}(a))},handleUserDataFromBackend:function(a,t){return e(function(e,a){return{type:Be.e,payload:Object(Ne.a)({},Te(e),{flag:a===Fe.c?"current":"month"})}}(a,t))},setDataFetchingInterval:function(a,t){return e(function(e,a){return{type:Be.n,payload:{value:e,id:a}}}(a,t))}}})(function(e){var a=e.endpoint,t=e.flag,n=e.multidata,r=e.multidata2,l=e.data,i=e.profile,s=e.handleUserDataFromBackend,u=(e.onUnlock,e.setDataFetchingInterval),_=(e.isIntervalExist,e.interval),y=e.intervalID,p=Object(c.useState)(!1),v=Object(o.a)(p,2),E=v[0],b=v[1],h=ke()();return Object(c.useEffect)(function(){Le(a).then(function(e){s(e,a)}),clearInterval(y),u(!0,setInterval(function(){Le(a).then(function(e){s(e,a)})},_))},[]),m.a.createElement("div",{className:d.a.MainPage},m.a.createElement(Ae,{style:{zoom:Math.min(h.innerWidth/700,1)},open:E,onClose:function(){return b(!1)},onOpen:function(){return b(!0)},profile:i,multidata:n,onUnlock:function(e){return function(e){return Ce.apply(this,arguments)}(e)}}),m.a.createElement(ne.a,{className:d.a.Grid1},m.a.createElement(S,{predicate:void 0===l[0].type||"absent"===l[0].type},m.a.createElement(g.a,{className:d.a.Item1},m.a.createElement(f.a,{style:De,variant:"h4"},m.a.createElement("b",null,l[0].type&&L.b[l[0].type])),m.a.createElement(I,Object.assign({},l[0],{flag:t})))),m.a.createElement(S,{predicate:void 0===l[1].type},m.a.createElement(g.a,{className:d.a.Item2},m.a.createElement(f.a,{style:De,variant:"h4"},m.a.createElement("b",null,L.a.mainPage.headings.net.label)),m.a.createElement(I,Object.assign({},l[1],{flag:t}))))),m.a.createElement(g.a,{className:d.a.Item5},m.a.createElement(z,Object.assign({},i,{pullOffFunc:function(){return b(!0)}}))),m.a.createElement(ne.a,{className:d.a.Grid2},m.a.createElement(S,{predicate:void 0===l[2].amount},m.a.createElement(g.a,{className:d.a.Item3},m.a.createElement(I,Object.assign({},l[2],{flag:t})),m.a.createElement(f.a,{style:De,variant:"h4"},m.a.createElement("b",null,L.a.mainPage.headings.neighbours.label)),m.a.createElement(te,{data:n,flag:t}))),m.a.createElement(S,{predicate:void 0===l[3].amount},m.a.createElement(g.a,{className:d.a.Item4},m.a.createElement(I,Object.assign({},l[3],{flag:t})),m.a.createElement(f.a,{style:De,variant:"h4"},m.a.createElement("b",null,L.a.mainPage.headings.load.label)),m.a.createElement(te,{data:r,flag:t})))))})}}]);
//# sourceMappingURL=5.a4f76828.chunk.js.map